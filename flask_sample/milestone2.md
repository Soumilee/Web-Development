<table><tr><td> <em>Assignment: </em> IS601 Milestone 2 Bank Project</td></tr>
<tr><td> <em>Student: </em> Soumilee Ghosh (sg342)</td></tr>
<tr><td> <em>Generated: </em> 4/28/2023 10:34:13 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IS601-004-S23/is601-milestone-2-bank-project/grade/sg342" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <ol><li>Checkout Milestone2 branch</li><li>Create a new markdown file called milestone2.md</li><li>git add/commit/push immediate</li><li>Fill in the below deliverables</li><li>At the end copy the markdown and paste it into milestone2.md</li><li>Add/commit/push the changes to Milestone2</li><li>PR Milestone2 to dev and verify</li><li>PR dev to prod and verify</li><li>Checkout dev locally and pull changes to get ready for Milestone 3</li><li>Submit the direct link to this new milestone2.md file from your GitHub prod branch to Canvas</li></ol><p>Note: Ensure all images appear properly on github and everywhere else. Images are only accepted from dev or prod, not local host. All website links must be from prod (you can assume/infer this by getting your dev URL and changing dev to prod).</p></td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Create Accounts table and setup </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot from the db of the system user (Users table)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235272788-7d9dfad2-9ee1-4459-a50b-05084db82ff0.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>shows the system user aka superuser<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot from the db of the world account (Accounts table)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235272807-dbce54b8-5cf7-40d6-bb00-19baad590311.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>world account table<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Explain the purpose and usage of these two entries and how they relate</td></tr>
<tr><td> <em>Response:</em> <p>The super user and the world account are needed to create account and<br>to deposit and withdraw from accounts. When an account is being created the<br>minimum amount of 5$ and above deposit which is required is being into<br>the newly created account from the world account owned by the super user.<br>When doing deposit and withdraw functions the money is added to or subtracted<br>from the world account. The super user with id -1 is needed to<br>be the owner of the world account with id -1.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Soumilee/IS601-004/pull/41">https://github.com/Soumilee/IS601-004/pull/41</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Dashboard </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the requested links/navigation</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235274613-4221fd05-0ef5-445b-9d58-6a8e4976b78b.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>dashboard of user after login<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain which ones are working for this milestone</td></tr>
<tr><td> <em>Response:</em> <p>For this milestone the working links are -&nbsp;<div>1. create bank account - for<br>the user to login and create account</div><div>2. my accounts - shows the user<br>their accounts in a list form with maximum 5 accounts listed and there<br>is also a go link beside every account to take them to the<br>transactions page of that account</div><div>3. deposit money - this lets the user deposit<br>money to any of their accounts ( the money is sent from world<br>account hence it is necessary )</div><div>4. withdraw money - this lets the user<br>to withdraw money from any of their accounts ( the money is sent<br>to the world account hence it is necessary )</div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Soumilee/IS601-004/pull/41">https://github.com/Soumilee/IS601-004/pull/41</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Create a checking Account </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the Create Account Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235275176-aafaa73a-c49d-4e28-b181-506490964498.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>data dilled create bank account page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshots showing validation errors and success message</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235275457-df60f30d-6fcc-4be8-af2f-3f584810e119.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>the minimum funding validation being done<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235275730-77dcc193-6f69-466c-a74c-88c8f3a361c6.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>DB showing the account created<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235277207-6665441b-643c-4559-b73e-7569583a8005.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>success of account created<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot showing the transaction generated from the initial deposit (from the DB)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235275907-913f00f9-f630-450d-bd17-b2b534db9307.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>transaction table entry<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Explain which account number generation you used and the account creation process including the transaction logic</td></tr>
<tr><td> <em>Response:</em> <p>Milestone 2 bank project Option 1 : Generated a random number from random.randint()<br>function of python&nbsp; i am using %0.12d% so that the generated number between<br>the range of 0 to 999999999999 is of 12 digits as required<span style="background-color:<br>rgb(245, 245, 245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space:<br>pre;">&nbsp;</span><div><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(122, 62, 157);">account_no</span><span style="background-color:<br>rgb(245, 245, 245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space:<br>pre;"> </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);">=</span>&lt;span<br>style=&quot;background-color: rgb(245, 245, 245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre;&quot;&gt; </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119,<br>119);">&quot;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(156, 93, 39);">%0.12d</span><span style="font-family:<br>Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);">&quot;</span><span style="background-color: rgb(245, 245,<br>245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;"> </span>&lt;span<br>style=&quot;font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);&quot;&gt;%</span><span style="background-color: rgb(245,<br>245, 245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;"><br></span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(122, 62, 157); font-weight:<br>bold;">random</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);">.</span><span style="font-family:<br>Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(122, 62, 157);">randint</span><span style="font-family: Consolas, &quot;Courier<br>New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);">(</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(156, 93, 39);">0</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;<br>color: rgb(119, 119, 119);">,</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(156,<br>93, 39);">999999999999</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);">)</span></div><div>&lt;span<br>style=&quot;font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119, 119);&quot;&gt;then i have<br>used the </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(122, 62,<br>157);">user_id</span><span style="background-color: rgb(245, 245, 245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier New&quot;,<br>monospace; white-space: pre;"> </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119,<br>119, 119);">=</span><span style="background-color: rgb(245, 245, 245); color: rgb(51, 51, 51); font-family: Consolas, &quot;Courier<br>New&quot;, monospace; white-space: pre;"> current_user</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color:<br>rgb(119, 119, 119);">.</span><span style="background-color: rgb(245, 245, 245); color: rgb(51, 51, 51); font-family: Consolas,<br>&quot;Courier New&quot;, monospace; white-space: pre;">get_id</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color:<br>rgb(119, 119, 119);">() to get the current logged in user ( imported from<br>flask_login ) </span></div><div><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(119, 119,<br>119);">and associated it to the newly created account by inserting it in the<br>DB along with the account number as user id</span></div><div><span style="font-family: Consolas, &quot;Courier New&quot;,<br>monospace; white-space: pre; color: rgb(119, 119, 119);"><br></span></div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 5: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Soumilee/IS601-004/pull/41">https://github.com/Soumilee/IS601-004/pull/41</a> </td></tr>
<tr><td> <em>Sub-Task 6: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sg342-prod.herokuapp.com/login">https://is601-sg342-prod.herokuapp.com/login</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> User will be able to list their accounts </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the user's account list view (show 5 accounts)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235277235-ba377978-5f20-4108-bd5a-385f0b89fe63.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>list of user accounts generated<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain how the page is displayed and the data lookup occurs</td></tr>
<tr><td> <em>Response:</em> <p>DB and backend -&nbsp;<div><div>&nbsp;user_id = current_user.get_id() &lt;- first we get the current users<br>id ( current_user.get_id() imported from flask_login )</div><div>&nbsp; &nbsp; args = [user_id] &lt;- then<br>we store it in args</div><div>&nbsp; &nbsp; query = &quot;SELECT id,account_number,balance,account_type,created,modified FROM IS601_Accounts WHERE<br>user_id = %s&quot; &lt;- we use it to select all the accounts with<br>this user id</div><div>&nbsp; &nbsp; limit = request.args.get(&quot;limit&quot;, 5) &lt;- we request limit from<br>user to limit the number of accounts we will show, the default number<br>is 5</div><div>&nbsp; &nbsp; if limit and int(limit)&gt;0 and int(limit)&lt;=5: &lt;- here we set<br>max limit as 5 as per requirement</div><div>&nbsp; &nbsp; &nbsp; &nbsp; query += &quot;<br>LIMIT %s&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; args.append(int(limit)) &lt;- here we append the limit gave<br>in by the user and append it to args</div><div>&nbsp; &nbsp; rows = []</div><div>&nbsp;<br>&nbsp; try:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; # convert our list to args via *</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; print(query)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; resp = DB.selectAll(query, *args) &lt;- here<br>we run the db query with the limit applied</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if<br>resp.status: &lt;- we get the DBresponse object and check if it is true&nbsp;</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rows = resp.rows &lt;- if true we store<br>the resp in the form of rows</div><div>&nbsp; &nbsp; except Exception as e:</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; flash(e, &quot;danger&quot;)&nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; print(e)&nbsp;</div><div>&nbsp; &nbsp; return render_template(&quot;list_account.html&quot;, resp=rows)&nbsp;<br>&lt;- here we pass the response we got from the db to the<br>frontend</div></div><div>Frontend -&nbsp;</div><div>in the front end we use a for loop&nbsp; {% for acc<br>in resp %}&nbsp; and a &lt;table&gt; &lt;/table&gt; tags along with &lt;th&gt; and &lt;td&gt;<br>tags to create a table format and display the response&nbsp;</div><div><div>&lt;td&gt;{{ acc.id }}&lt;/td&gt;&nbsp;&lt;td&gt;{{ acc.account_number<br>}}&lt;/td&gt;&nbsp;&lt;td&gt;{{ acc.user_id }}&lt;/td&gt;&nbsp;&lt;td&gt;${{ acc.balance }}&lt;/td&gt;&nbsp;&lt;td&gt;{{ acc.account_type }}&lt;/td&gt;</div><div>&lt;td&gt;{{ acc.created }}&lt;/td&gt; &lt;td&gt;{{ acc.modified }}&lt;/td&gt; &lt;td&gt;&lt;a<br>href=&quot;{{url_for(&#39;sample.list_transactions&#39;,acc_id=acc.id, **request.args)}}&quot;class=&quot;btn btn-danger btn-sm&quot;&gt;go&lt;/a&gt; &lt;- created this button with url so that it<br>can go to the webpage and list the transactions of that account</div></div><div>accessing all<br>the values of the response with counter.</div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Soumilee/IS601-004/pull/41">https://github.com/Soumilee/IS601-004/pull/41</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sg342-prod.herokuapp.com/login">https://is601-sg342-prod.herokuapp.com/login</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 5: </em> Account Transaction Details </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of an account's transaction history</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235277682-bed3509b-6c27-405e-bf83-0639d35c52fb.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>transaction details<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain how the lookup and display occurs</td></tr>
<tr><td> <em>Response:</em> <p>The user can first list accounts and there is a &#39;go&#39; button present<br>which takes the user to that accounts transaction&nbsp;<div>Backend and DB -<br><div><div>acc_id = request.args.get(&quot;acc.id&quot;)<br>&lt;- we get the account id when the user clicks on the button<br>&lt;td&gt;&lt;a href=&quot;{{url_for(&#39;sample.list_transactions&#39;,acc_id=acc.id, **request.args)}}&quot;class=&quot;btn btn-danger btn-sm&quot;&gt;go&lt;/a&gt; present in list_account.html</div><div>&nbsp; &nbsp; args = [acc_id] &lt;-<br>we store the value in args</div><div>&nbsp; &nbsp; query = &quot;&quot;&quot;SELECT account_src_id, account_dest_id, balance_change,<br>transaction_type, memo, expected_total, created, modified FROM IS601_Transactions WHERE account_src_id&nbsp;</div><div>&nbsp; &nbsp; or account_dest_id =<br>%s&quot;&quot;&quot; &lt;- we pass the account id into this query and perform a<br>select query to look up any transactions from that account or to that<br>account</div><div>&nbsp; &nbsp; limit = request.args.get(&quot;limit&quot;,10) &lt;- we take limit from user and keep<br>default of limit as 10</div><div>&nbsp; &nbsp; if limit and int(limit) &gt; 0 and<br>int(limit) &gt;=10: &lt; we check if user has put in limit greater than<br>10</div><div>&nbsp; &nbsp; &nbsp; &nbsp; query += &quot; LIMIT %s&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; args.append(int(limit))<br>&lt;- we append the limit to args</div><div>&nbsp; &nbsp; rows = []</div><div>&nbsp; &nbsp; try:</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; print(query)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; resp = DB.selectAll(query, *args) &lt;- we<br>then run the select all db query and get the number of transactions<br>of that account which is given by the user as limit and get<br>the resp</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if resp.status: &lt;- since resp is a DBResponse<br>object we check if it is true or false</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; rows = resp.rows &lt; if true we pass it to rows created<br>above&nbsp;</div><div>&nbsp; &nbsp; except Exception as e:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; flash(e,&quot;danger&quot;)</div><div>&nbsp; &nbsp; &nbsp; &nbsp;<br>print(e)</div><div>&nbsp; &nbsp; return render_template(&quot;list_transactions.html&quot;, resp=rows) &lt;- we pass the resp as rows&nbsp;</div></div><div><br></div><div>Frontend -</div><div><div>{%<br>for trans in resp %} &lt;- we run a for loop for the<br>resp which we receive from backend inside the &lt;table&gt;&lt;/table&gt; tags to create a<br>horizontal table and display all the values which we access as shown below<br>with the dot operator on the loop counter</div><div>&lt;tr&gt;&lt;td&gt;{{ trans.account_src_id }}&lt;/td&gt;&lt;td&gt;{{ trans.account_dest_id }}&lt;/td&gt;&lt;td&gt;${{ trans.balance_change<br>}}&lt;/td&gt;</div><div>&lt;td&gt;{{ trans.transaction_type }}&lt;/td&gt;&lt;td&gt;{{ trans.memo }}&lt;/td&gt;<span style="white-space: pre;">	</span>&lt;td&gt;${{ trans.expected_total }}&lt;/td&gt;</div><div>&lt;td&gt;{{ trans.created }}&lt;/td&gt;&lt;/tr&gt;&nbsp;</div></div></div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Soumilee/IS601-004/pull/41">https://github.com/Soumilee/IS601-004/pull/41</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sg342-prod.herokuapp.com/login">https://is601-sg342-prod.herokuapp.com/login</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 6: </em> Deposit/Withdraw </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Show a Screenshot of the Deposit Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235278274-5ac1a47c-7047-4ad3-90ac-8a479651ac4d.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>Deposit filled with valid data<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Show a Screenshot of the Withdraw Page (this potentially can be the same page with different views)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235278309-1b577ba1-0a75-4444-8304-febcb2b925f4.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>Withdraw filled in with valid data<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Show validation error for negative numbers</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235278325-a97518bc-cee2-4738-9058-cc527fcddd4b.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>showing error<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Show validation error for withdrawing more than the account contains</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235278325-a97518bc-cee2-4738-9058-cc527fcddd4b.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>showing error for withdrawing more from account than balance<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 5: </em> Show a success message for deposit and withdraw (2 screenshots)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235278384-959f7afa-47bc-4a78-93a5-b1deca0d665b.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>Deposit success message<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 6: </em> Show a screenshot of the transaction pairs in the DB for the above tests</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/101204363/235278438-91d228e5-c31a-436c-b7e1-99713762af92.PNG"/></td></tr>
<tr><td> <em>Caption:</em> <p>Can look at 1 2  and 3 4 transactions<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 7: </em> Briefly explain how transactions work</td></tr>
<tr><td> <em>Response:</em> <div>def commit_transaction(src, dest, change, type, memo): &lt;- so i have described a method<br>commit transaction which i am calling while doing deposit withdraw or creating account.</div><div>&nbsp;<br>&nbsp; print(src,dest,change,type,memo)</div><div>&nbsp; &nbsp; from sql.db import DB</div><div>&nbsp; &nbsp; DB.getDB().autocommit = False</div><div>&nbsp; &nbsp; if<br>change &gt; 0: &lt;- here we are checking if the balance change is<br>+ve and make change * argument as -ve</div><div>&nbsp; &nbsp; &nbsp; &nbsp; change *=<br>-1</div><div>&nbsp; &nbsp; query1 = DB.selectOne("SELECT balance FROM IS601_Accounts WHERE id = %s",src) &lt;-<br>here we are perform db select query and getting the balance from the<br>accounts table where account id is the source account id</div><div>&nbsp; &nbsp; if query1.status:<br>&lt;- if the db query has run and its dbresponse object is true<br>then we store the query result in the row&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; row = query1.row</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>print(row)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; src_bal = row["balance"] &lt;- we<br>get the balance from the row and store it in another variable to<br>reference later</div><div>&nbsp; &nbsp; query2 = DB.selectOne("SELECT balance FROM IS601_Accounts WHERE id = %s",dest)<br>&lt;- we extract the balance from the destination account&nbsp;</div><div>&nbsp; &nbsp; if query2.status:</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; row = query2.row</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; print(row)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dest_bal =<br>row["balance"] &lt;- and in the same process as above extract the destination account<br>balance value</div><div>&nbsp; &nbsp; src_bal = src_bal - change &lt;- here we update the<br>balance values for source and destination accounts</div><div>&nbsp; &nbsp; dest_bal = dest_bal + change</div><div>&nbsp;<br>&nbsp; query = """INSERT INTO IS601_Transactions (account_src_id, account_dest_id , balance_change, transaction_type, memo, expected_total)<br>VALUES (%s, %s, %s, %s, %s, %s)"""</div><div>&nbsp; &nbsp; pairs = [] &lt;- here<br>we create a tuple</div><div>&nbsp; &nbsp; pairs.append((src, dest, change, type, memo,src_bal))&nbsp; &lt;- and add<br>to the tuple the values</div><div>&nbsp; &nbsp; pairs.append((dest, src, change * -1, type,memo,dest_bal))</div><div>&nbsp; &nbsp;<br>try:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; result = DB.insertMany(query, pairs) &lt;- here run the db<br>query and insert the values in the table</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if result.status:</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("Recored transations pairs", src, dest, change, type, memo)</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if update_balance(src) and update_balance(dest): &lt;- here we call<br>the update balance method for source and destination seperately</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; DB.getDB().commit()</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return True</div><div>&nbsp;<br>&nbsp; except Exception as e:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; print("Error recording point history", e)</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; DB.getDB().rollback()</div><div>&nbsp; &nbsp; &nbsp; &nbsp; return False</div><div><br></div><div>def update_balance(acc_id): &lt;- in this<br>we take the account id and update the balance into the accounts table</div><div>&nbsp;<br>&nbsp; from sql.db import DB</div><div>&nbsp; &nbsp; user_id = current_user.get_id()&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; try:</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; result = DB.update("""UPDATE IS601_Accounts set balance = (SELECT IFNULL(SUM(balance_change), 0)&nbsp;</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; FROM IS601_Transactions WHERE account_src_id = %(acct)s)""", {"acct":int(acc_id)})</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if<br>result.status:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return True</div><div>&nbsp; &nbsp; except Exception as e:</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; print("Error updating balance", e)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; DB.getDB().rollback()</div><div>&nbsp; &nbsp; return<br>False</div><br></td></tr>
<tr><td> <em>Sub-Task 8: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Soumilee/IS601-004/pull/41">https://github.com/Soumilee/IS601-004/pull/41</a> </td></tr>
<tr><td> <em>Sub-Task 9: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sg342-prod.herokuapp.com/login">https://is601-sg342-prod.herokuapp.com/login</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 7: </em> Misc </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Describe any issues and learnings throughout this milestone</td></tr>
<tr><td> <em>Response:</em> <p>l learned how to generate a random number l learned it from this<br>website -&nbsp;<a href="https://www.pythoneasy.com/learn/python-how-to-generate-a-12-digit-random-number-in-python">https://www.pythoneasy.com/learn/python-how-to-generate-a-12-digit-random-number-in-python</a><div>I had a lot of issue with extracting the value from the<br>DB using selectOne and then storing the value in the variable. Initially l<br>thought the result of the column l am selecting is in the form<br>of a value but l later realized it is a DBResponse object</div><div>and the<br>response needs to be stored in a row and is a dictionary whose<br>key is the column i had accessed in selectOne statement and to store<br>that value would be to store it as a dictionary key.</div><div>I also had<br>an issue where the expected total was not being updated while creating the<br>account but later that worked out. I did the dropdown of account following<br>the company_dropdown.html which was done by professor in Mini Project 3.</div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a link to your herok prod project's login page</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sg342-prod.herokuapp.com/login">https://is601-sg342-prod.herokuapp.com/login</a> </td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IS601-004-S23/is601-milestone-2-bank-project/grade/sg342" target="_blank">Grading</a></td></tr></table>